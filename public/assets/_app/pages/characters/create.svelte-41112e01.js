import{S as a,i as t,s as e,e as n,k as r,t as c,c as s,a as i,n as o,g as h,d as u,b as d,f as l,F as f,I as p,J as m,G as v,K as y}from"../../chunks/vendor-1d7c8bad.js";function w(a){let t,e,w,N,T,b,x;return{c(){t=n("div"),e=n("input"),w=r(),N=n("button"),T=c("Create New Character"),this.h()},l(a){t=s(a,"DIV",{id:!0});var n=i(t);e=s(n,"INPUT",{type:!0,name:!0,id:!0}),w=o(n),N=s(n,"BUTTON",{});var r=i(N);T=h(r,"Create New Character"),r.forEach(u),n.forEach(u),this.h()},h(){d(e,"type","text"),d(e,"name","character-name"),d(e,"id","character-name"),d(t,"id","character-creation-form")},m(n,r){l(n,t,r),f(t,e),p(e,a[0]),f(t,w),f(t,N),f(N,T),b||(x=[m(e,"input",a[2]),m(N,"click",a[1])],b=!0)},p(a,[t]){1&t&&e.value!==a[0]&&p(e,a[0])},i:v,o:v,d(a){a&&u(t),b=!1,y(x)}}}function N(a,t,e){let n;var r=this&&this.__awaiter||function(a,t,e,n){return new(e||(e=Promise))((function(r,c){function s(a){try{o(n.next(a))}catch(t){c(t)}}function i(a){try{o(n.throw(a))}catch(t){c(t)}}function o(a){var t;a.done?r(a.value):(t=a.value,t instanceof e?t:new e((function(a){a(t)}))).then(s,i)}o((n=n.apply(a,t||[])).next())}))};return a.$$.update=()=>{1&a.$$.dirty&&console.log(`Name is now ${n}.`)},e(0,n=""),[n,function(){return r(this,void 0,void 0,(function*(){const a={created:new Date,level:1,name:n},t=yield fetch("/characters/data.json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({character:a})});yield t.json(),201===t.status?location.replace("/characters"):alert("There was a problem creating the user!")}))},function(){n=this.value,e(0,n)}]}export default class extends a{constructor(a){super(),t(this,a,N,w,e,{})}}
